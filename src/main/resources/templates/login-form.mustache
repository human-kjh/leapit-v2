{{> layout/personal-header}}

<div class="main container mt-5">
    <div class="signupContainer">
        <div class="leftImageBox">
            <img src="/img/logo2.png" alt="회원정보 수정 이미지">
        </div>

        <div class="verticalLine"></div>

        <div class="signupForm">
            <ul class="nav nav-tabs mb-4" id="userTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="personal-tab" data-bs-toggle="tab"
                            data-bs-target="#personal" type="button" role="tab">개인 회원</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="company-tab" data-bs-toggle="tab"
                            data-bs-target="#company" type="button" role="tab">기업 회원</button>
                </li>
            </ul>

            <div class="tab-content">
                <!-- 개인 회원 -->
                <div class="tab-pane fade show active" id="personal" role="tabpanel">
                    <form action="/login" method="post">
                        <input type="hidden" name="role" value="personal" />
                        <div class="mb-3">
                            <input type="text" class="formControl" name="username" id="personalUsername" placeholder="아이디" required />
                        </div>
                        <div class="mb-3">
                            <input type="password" class="formControl" name="password" id="personalPassword" placeholder="비밀번호" required />
                        </div>
                        <div class="formCheck mb-3">
                            <input class="formCheckInput" type="checkbox" id="personalRememberMe" name="rememberMe" checked />
                            <label class="formCheckLabel" for="personalRememberMe">로그인 유지</label>
                        </div>
                        <button type="submit" class="btn btn-primary btnSignup">로그인</button>
                    </form>
                    <form action="/personal/user/join-form" method="get">
                        <button type="submit" class="btn btn-outline-primary btnSignup mt-2">회원가입</button>
                    </form>
                </div>

                <!-- 기업 회원 -->
                <div class="tab-pane fade" id="company" role="tabpanel">
                    <form action="/login" method="post">
                        <input type="hidden" name="role" value="company" />
                        <div class="mb-3">
                            <input type="text" class="formControl" name="username" id="companyUsername" placeholder="아이디" required />
                        </div>
                        <div class="mb-3">
                            <input type="password" class="formControl" name="password" id="companyPassword" placeholder="비밀번호" required />
                        </div>
                        <div class="formCheck mb-3">
                            <input class="formCheckInput" type="checkbox" id="companyRememberMe" name="rememberMe" checked />
                            <label class="formCheckLabel" for="companyRememberMe">로그인 유지</label>
                        </div>
                        <button type="submit" class="btn btn-primary btnSignup">로그인</button>
                    </form>
                    <form action="/company/user/join-form" method="get">
                        <button type="submit" class="btn btn-outline-primary btnSignup mt-2">회원가입</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return null;
    }

    const rememberedUsername = getCookie("username");
    if (rememberedUsername != null) {
        // 개인/기업 어떤 탭인지는 상관 없이 기본 개인 탭에 넣음
        document.querySelector("#personalUsername").value = rememberedUsername;
    }
</script>

{{> layout/footer}}
